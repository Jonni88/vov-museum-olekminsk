# myaolekma-bot v2

Telegram-бот для сайта мояолекма.рф — помощник администратора.

## Концепция

Бот — это мост между пользователем и админом (Евгением). Пользователь выбирает: сам заполнить на сайте или отправить данные админу.

## Главное меню

```
┌─────────────────────────────────────┐
│  🤖 Бот мояолекма.рф                │
│                                     │
│  Чем могу помочь?                   │
│                                     │
│  📝 Добавить на сайт                │
│  📢 Реклама                         │
│  🤝 Сотрудничество                  │
│  🔐 Моя организация                 │
│  ❓ Помощь                          │
└─────────────────────────────────────┘
```

## Сценарии

### 📝 Добавить на сайт

Бот спрашивает: **Что хотите добавить?**
- 🏢 Организацию
- 📰 Новость
- 🛠 Услугу
- 📋 Объявление

Затем предлагает **2 варианта:**

**Вариант 1:** «Заполнить самому на сайте»
→ Бот отправляет ссылку на страницу регистрации/авторизации
→ Пользователь сам создаёт материал

**Вариант 2:** «Отправить данные админу»
→ Бот собирает информацию пошагово
→ Отправляет Евгению в Telegram
→ Евгений сам заполняет на сайте

### 📢 Реклама

Сбор заявки:
- Тип рекламы (баннер, статья, размещение)
- Контакты
- Пожелания
→ Отправляется админу

### 🤝 Сотрудничество

Сбор предложения:
- Тема сотрудничества
- Описание
- Контакты
→ Отправляется админу

### 🔐 Моя организация есть на сайте

Для владельцев существующих записей:
- Название организации
- Подтверждение владения (фото документа/договора)
- Запрос на получение доступа
→ Отправляется админу на проверку

## Структура проекта

```
myaolekma-bot/
├── src/
│   ├── bot.js                 # Точка входа
│   ├── config/
│   │   └── config.js          # Настройки
│   ├── handlers/
│   │   ├── mainMenu.js        # Главное меню
│   │   ├── addContent.js      # Добавление на сайт
│   │   ├── advertising.js     # Реклама
│   │   ├── partnership.js     # Сотрудничество
│   │   ├── claimAccess.js     # Получить доступ
│   │   └── adminPanel.js      # Панель админа
│   └── utils/
│       └── formatter.js       # Форматирование сообщений
├── package.json
├── .env.example
└── README.md
```

## Установка

```bash
npm install
```

## Настройка

Создать `.env`:

```
BOT_TOKEN=your_telegram_bot_token
ADMIN_CHAT_ID=your_telegram_chat_id
SITE_URL=https://мояолекма.рф
SITE_REGISTER_URL=https://мояолекма.рф/register
SITE_LOGIN_URL=https://мояолекма.рф/login
SECRET_KEY=your_secret_for_webhook_validation
```

## Запуск

```bash
npm start
```

## Поток данных

```
Пользователь → Бот → Админ (Evgeny)
                    ↓
              (данные в Telegram)
                    ↓
              Админ заполняет на сайте вручную
```
