# Детальная инструкция по установке

## 1. Установка WordPress локально (Docker)

```bash
# Перейти в папку проекта
cd cosmetics-store

# Запустить контейнеры
docker-compose up -d

# WordPress доступен на http://localhost:8080
# phpMyAdmin на http://localhost:8081
```

## 2. Первичная настройка WordPress

1. Открыть http://localhost:8080
2. Выбрать язык (Русский)
3. Заполнить данные:
   - Название сайта: "Косметика Shop"
   - Имя пользователя: admin
   - Пароль: [сложный пароль]
   - Email: ваш@email.ru

## 3. Установка WooCommerce

1. Плагины → Добавить новый
2. Найти "WooCommerce"
3. Установить и активировать
4. Пройти мастер настройки:
   - Адрес магазина
   - Отрасль: "Красота и косметика"
   - Типы товаров: Физические
   - Ожидаемый объём продаж
   - Налоги: включить НДС

## 4. Настройка WooCommerce

### Валюта
- WooCommerce → Настройки → Общие
- Валюта: Российский рубль (₽)
- Формат: 1 234,56 ₽

### Доставка
- WooCommerce → Настройки → Доставка
- Добавить зону: "Вся Россия"
- Способ: "Единая ставка" — 300 ₽
- Бесплатная доставка от: 3000 ₽

### Оплата (ЮKassa)
1. Зарегистрироваться на yookassa.ru
2. Получить shopId и секретный ключ
3. Плагины → Добавить → "ЮKassa для WooCommerce"
4. Настройки → Платежи → ЮKassa
5. Ввести shopId и ключ
6. Включить тестовый режим для проверки

## 5. Установка темы

Рекомендуемые бесплатные:
- **Astra** — лёгкая, быстрая
- **Blocksy** — современная, много опций
- **OceanWP** — гибкая кастомизация

Установка:
1. Внешний вид → Темы → Добавить
2. Найти и установить
3. Активировать

## 6. Настройка Telegram бота

### Создание бота
1. Написать @BotFather в Telegram
2. Команда `/newbot`
3. Придумать имя (например: "Cosmetics Shop Bot")
4. Придумать username (например: "cosmetics_shop_bot")
5. Скопировать токен (выглядит как: 123456789:ABCdefGHIjklMNOpqrsTUVwxyz)

### Установка плагина уведомлений
1. Скопировать папку `wp-content/plugins/wc-telegram-notifications/` в WordPress
2. Плагины → установить "WC Telegram Notifications"
3. Настройки → Telegram
4. Вставить токен бота
5. Узнать свой Chat ID через @userinfobot
6. Вставить Chat ID и сохранить

### Настройка webhook (опционально)
Если нужны команды бота (/orders, /status):
1. Загрузить папку `telegram-bot/` на сервер
2. Установить webhook через: `https://api.telegram.org/bot[TOKEN]/setWebhook?url=[URL]/webhook.php`

## 7. Добавление товаров

### Категории
- Уход за лицом
  - Очищение
  - Увлажнение
  - Антивозрастной уход
- Уход за волосами
  - Шампуни
  - Кондиционеры
  - Маски
- Макияж
  - Для глаз
  - Для губ
  - Для лица
- Парфюмерия

### Пример товара
1. Товары → Добавить
2. Название: "Крем для лица увлажняющий"
3. Описание: полное описание
4. Короткое описание: краткое (видно в каталоге)
5. Цена: 1500 ₽
6. Цена со скидкой: 1200 ₽ (если есть)
7. Категория: Уход за лицом → Увлажнение
8. Изображение товара: загрузить фото
9. Галерея: дополнительные фото
10. Атрибуты: Объём (50мл, 100мл)

## 8. Необходимые плагины

### Обязательные
- WooCommerce — магазин
- WooCommerce Product Add-ons — дополнительные опции
- WooCommerce Variation Swatches — красивый выбор вариаций
- WooCommerce Photo Reviews — отзывы с фото
- Rank Math SEO — SEO-оптимизация
- LiteSpeed Cache — кэширование

### Рекомендуемые
- Elementor — визуальный редактор (Pro — платный)
- WPForms — контактные формы
- Smash Balloon — интеграция Instagram
- Mailchimp for WooCommerce — email-рассылки

## 9. Страницы

### Обязательные страницы
- **Главная** — создана автоматически
- **Магазин** — каталог товаров
- **О нас** — история, миссия
- **Доставка и оплата** — условия
- **Контакты** — адрес, телефон, карта
- **Политика конфиденциальности** — для закона

### Создание страницы
1. Страницы → Добавить
2. Заголовок: "О нас"
3. Контент: текст + фото
4. Опубликовать

## 10. Меню

1. Внешний вид → Меню
2. Создать меню "Главное"
3. Добавить пункты:
   - Главная
   - Магазин
   - О нас
   - Доставка
   - Контакты
4. Отметить "Первичное меню"
5. Сохранить

## 11. Виджеты

1. Внешний вид → Виджеты
2. Настроить боковую панель (если используется):
   - Корзина
   - Фильтры товаров
   - Последние отзывы
   - Популярные товары

## 12. SEO и аналитика

### Rank Math
1. Установить Rank Math SEO
2. Пройти мастер настройки
3. Настроить заголовки и описания

### Google Analytics
1. Создать аккаунт на analytics.google.com
2. Получить Tracking ID (G-XXXXXXXX)
3. Добавить в Rank Math или через плагин

### Яндекс.Метрика
1. Создать счётчик на metrika.yandex.ru
2. Получить код
3. Вставить в header/footer

## 13. Финальные проверки

### Тестирование заказа
1. Добавить товар в корзину
2. Оформить заказ
3. Проверить уведомление в Telegram
4. Проверить письмо на email

### Тестирование оплаты
1. Включить тестовый режим ЮKassa
2. Использовать тестовые карты
3. Проверить обработку оплаты

### Проверка скорости
1. Открыть Google PageSpeed Insights
2. Проверить сайт
3. Исправить критические ошибки

## 14. Перенос на хостинг

### Экспорт
```bash
# База данных
wp db export backup.sql

# Файлы
tar -czvf wordpress-backup.tar.gz wp-content/
```

### Импорт на хостинге
1. Создать БД
2. Импортировать backup.sql
3. Загрузить файлы
4. Изменить wp-config.php (данные БД)
5. Обновить URL в БД:
   ```sql
   UPDATE wp_options SET option_value = 'https://new-site.com' WHERE option_name = 'home';
   UPDATE wp_options SET option_value = 'https://new-site.com' WHERE option_name = 'siteurl';
   ```

## Полезные команды WP-CLI

```bash
# Установить плагин
wp plugin install woocommerce --activate

# Обновить всё
wp core update && wp plugin update --all

# Оптимизировать БД
wp db optimize

# Создать бэкап
wp db export backup-$(date +%Y%m%d).sql
```

---

*После установки — магазин готов к работе!*
